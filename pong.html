<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pong Game</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: 'Arial', sans-serif;
            color: white;
        }

        .game-container {
            text-align: center;
            padding: 20px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .score {
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        #gameCanvas {
            border: 3px solid #fff;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(255,255,255,0.3);
            background: #000;
        }

        .controls {
            margin-top: 20px;
            font-size: 1rem;
            opacity: 0.8;
        }

        .start-button {
            margin-top: 15px;
            padding: 12px 24px;
            font-size: 1.2rem;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .start-button:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        .start-button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üèì PONG</h1>
        <div class="score">
            <div>Jogador 1: <span id="player1Score">0</span></div>
            <div>Jogador 2: <span id="player2Score">0</span></div>
        </div>
        <canvas id="gameCanvas" width="800" height="400"></canvas>
        <div class="controls">
            <div>Jogador 1: W (subir) / S (descer)</div>
            <div>Jogador 2: ‚Üë (subir) / ‚Üì (descer)</div>
        </div>
        <button id="startButton" class="start-button">Iniciar Jogo</button>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const startButton = document.getElementById('startButton');
        const player1ScoreElement = document.getElementById('player1Score');
        const player2ScoreElement = document.getElementById('player2Score');

        // Game state
        let gameRunning = false;
        let animationId;

        // Game objects
        const ball = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            radius: 10,
            velocityX: 5,
            velocityY: 3,
            speed: 5
        };

        const paddle1 = {
            x: 10,
            y: canvas.height / 2 - 50,
            width: 10,
            height: 100,
            speed: 8
        };

        const paddle2 = {
            x: canvas.width - 20,
            y: canvas.height / 2 - 50,
            width: 10,
            height: 100,
            speed: 8
        };

        const score = {
            player1: 0,
            player2: 0
        };

        // Input handling
        const keys = {};

        document.addEventListener('keydown', (e) => {
            keys[e.key.toLowerCase()] = true;
        });

        document.addEventListener('keyup', (e) => {
            keys[e.key.toLowerCase()] = false;
        });

        // Game functions
        function resetBall() {
            ball.x = canvas.width / 2;
            ball.y = canvas.height / 2;
            ball.velocityX = -ball.velocityX;
            ball.velocityY = Math.random() * 6 - 3;
        }

        function updatePaddles() {
            // Player 1 controls (W/S)
            if (keys['w'] && paddle1.y > 0) {
                paddle1.y -= paddle1.speed;
            }
            if (keys['s'] && paddle1.y < canvas.height - paddle1.height) {
                paddle1.y += paddle1.speed;
            }

            // Player 2 controls (Arrow keys)
            if (keys['arrowup'] && paddle2.y > 0) {
                paddle2.y -= paddle2.speed;
            }
            if (keys['arrowdown'] && paddle2.y < canvas.height - paddle2.height) {
                paddle2.y += paddle2.speed;
            }
        }

        function updateBall() {
            ball.x += ball.velocityX;
            ball.y += ball.velocityY;

            // Ball collision with top and bottom walls
            if (ball.y - ball.radius < 0 || ball.y + ball.radius > canvas.height) {
                ball.velocityY = -ball.velocityY;
            }

            // Ball collision with paddles
            if (ball.x - ball.radius < paddle1.x + paddle1.width &&
                ball.y > paddle1.y &&
                ball.y < paddle1.y + paddle1.height &&
                ball.velocityX < 0) {
                ball.velocityX = -ball.velocityX;
                ball.velocityY += (ball.y - (paddle1.y + paddle1.height / 2)) * 0.1;
            }

            if (ball.x + ball.radius > paddle2.x &&
                ball.y > paddle2.y &&
                ball.y < paddle2.y + paddle2.height &&
                ball.velocityX > 0) {
                ball.velocityX = -ball.velocityX;
                ball.velocityY += (ball.y - (paddle2.y + paddle2.height / 2)) * 0.1;
            }

            // Scoring
            if (ball.x < 0) {
                score.player2++;
                player2ScoreElement.textContent = score.player2;
                resetBall();
            }

            if (ball.x > canvas.width) {
                score.player1++;
                player1ScoreElement.textContent = score.player1;
                resetBall();
            }
        }

        function draw() {
            // Clear canvas
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw center line
            ctx.setLineDash([5, 15]);
            ctx.beginPath();
            ctx.moveTo(canvas.width / 2, 0);
            ctx.lineTo(canvas.width / 2, canvas.height);
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.setLineDash([]);

            // Draw paddles
            ctx.fillStyle = '#fff';
            ctx.fillRect(paddle1.x, paddle1.y, paddle1.width, paddle1.height);
            ctx.fillRect(paddle2.x, paddle2.y, paddle2.width, paddle2.height);

            // Draw ball
            ctx.beginPath();
            ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
            ctx.fillStyle = '#fff';
            ctx.fill();
        }

        function gameLoop() {
            if (!gameRunning) return;

            updatePaddles();
            updateBall();
            draw();

            animationId = requestAnimationFrame(gameLoop);
        }

        function startGame() {
            if (gameRunning) {
                // Stop game
                gameRunning = false;
                cancelAnimationFrame(animationId);
                startButton.textContent = 'Iniciar Jogo';
                startButton.disabled = false;
            } else {
                // Start game
                gameRunning = true;
                startButton.textContent = 'Parar Jogo';
                resetBall();
                gameLoop();
            }
        }

        // Event listeners
        startButton.addEventListener('click', startGame);

        // Initial draw
        draw();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96e910ede3a0a463',t:'MTc1NTA5NzA1OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
